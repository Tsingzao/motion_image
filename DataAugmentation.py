# import os
# import h5py
# import numpy as np
# from keras.preprocessing import image
# video_path = '/home/yutingzhao/VideoData/UCF-RGB/UCF-frame/'
# video_file = os.listdir(video_path)[1:]
# h5file_path= '/home/yutingzhao/VideoData/UCF-h5/UCF-Augmentation-224/'
#
# video_class_key_value = {}
# with open('/home/yutingzhao/VideoData/ucfTrainTestlist/classInd.txt', 'r') as fp:
#     for line in fp.readlines():
#         key = line.strip().split(' ')[1].upper()
#         value = line.strip().split(' ')[0]
#         video_class_key_value[key] = value
# fp.close()
#
# fp = open('/home/yutingzhao/VideoData/UCF-h5/UCF-Augmentation-224/ucflist-224-part1.txt','w')
#
# X_train = []
# y_train = []
# video_count = 1
# original_part = 0
# for video in video_file:
#
#     video_class  = video.split('_')[1].upper()
#     video_frames = os.listdir(video_path+'/'+video)
#     frame_number = len(video_frames)
#     skip_length  = frame_number // 16
#
#     for i in range(skip_length):
#         current_part = video_count // 10000
#
#         frame_select = tuple(range(1, skip_length*16, skip_length))
#         video_cube   = np.zeros((224, 224, 16, 3), dtype='uint8')
#         frame_count  = 0
#         for frame in frame_select:
#             if frame < 10:
#                 temp = 'frame-000'+str(frame)+'.jpg'
#             elif frame < 100:
#                 temp = 'frame-00'+str(frame)+'.jpg'
#             elif frame < 1000:
#                 temp = 'frame-0'+str(frame)+'.jpg'
#             else:
#                 temp = 'frame-'+str(frame)+'.jpg'
#             frame_path = video_path + '/'+ video + '/' + temp
#             frame_image = image.load_img(frame_path, target_size=(224, 224))
#             frame_array = image.img_to_array(frame_image)
#             video_cube[:,:,frame_count,:] = frame_array
#             frame_count += 1
#             print('Read ' + video + ': ' + str(i+1) + '/' + str(skip_length) + ' - frame ' + str(frame_count))
#         X_train.append(video_cube)
#         y_train.append(int(video_class_key_value[video_class]) - 1)
#         fp.write(video)
#         fp.write(' ')
#         fp.write(video_class_key_value[video_class])
#         fp.write('\n')
#         video_count += 1
#
#         if not current_part == original_part:
#             print('CurrentPart %d, OriginalPart %d' % (current_part, original_part))
#             print('VideoCount ', video_count-1)
#             h5file = h5py.File(h5file_path+'UCF-224-part'+str(current_part)+'.h5','w')
#             X_train = np.asarray(X_train)
#             y_train = np.asarray(y_train)
#             print('Create X_train ...')
#             h5file.create_dataset('X_train', data=X_train)
#             print('Create y_train ...')
#             h5file.create_dataset('y_train', data=y_train)
#             print('Create h5 file Done!')
#             h5file.close()
#             X_train = []
#             y_train = []
#             fp.close()
#             fp = open('/home/yutingzhao/VideoData/UCF-h5/UCF-Augmentation-224/ucflist-224-part'+str(current_part+1)+'.txt','w')
#
#         if video_count == 148933:
#             print('VideoCount ', video_count - 1)
#             h5file = h5py.File(h5file_path + 'UCF-224-part' + str(current_part+1) + '.h5', 'w')
#             X_train = np.asarray(X_train)
#             y_train = np.asarray(y_train)
#             print('Create X_train ...')
#             h5file.create_dataset('X_train', data=X_train)
#             print('Create y_train ...')
#             h5file.create_dataset('y_train', data=y_train)
#             print('Create h5 file Done!')
#             h5file.close()
#             X_train = []
#             y_train = []
#             fp.close()
#
#         original_part = current_part
#
#
# print(0.448585784261) # 0.448585784261
#
# print(0.471612217716) # 0.471612217716
#
# print()
#
#
# print(0.720063442044)
# print(0.72495982875)
#
#
#
Acc = [0.71585431238052744, 0.71853240541854391, 0.72094268915275872, 0.7169255496356407, 0.71665774021211892, 0.72147830780026867, 0.71933583332994877, 0.72040707058506215, 0.71987145191759871, 0.7222817356717669, 0.71906802402614722, 0.71505088438930908, 0.72040707058506215, 0.71960364263375043, 0.71799678681094059, 0.72201392640787199, 0.71960364267365717, 0.72094268919266535, 0.72040707058506215, 0.72174611710407033, 0.71424745653776411, 0.72094268919266535, 0.72281735431927696, 0.72362078223068194, 0.72281735431927696, 0.72228173571167364, 0.72254954497556856, 0.71746116824324402, 0.71344402860640588, 0.72094268919266535, 0.72281735431927696, 0.7225495450154753, 0.72388859153448359, 0.72281735431927696, 0.71853240541854391, 0.71772897746723219, 0.7222817356717669, 0.72067487988886381, 0.7188002147622522, 0.72335297292688028, 0.71987145197745883, 0.72147830776036204, 0.71531869373301737, 0.71612212156460897, 0.71076593554843603, 0.71156936343988764, 0.72094268915275872, 0.72308516358317187, 0.72147830776036204, 0.72094268919266535, 0.7174611681833839, 0.71772897746723219, 0.72121049849646701, 0.71853240541854391, 0.72228173571167364, 0.72281735431927696, 0.72308516362307862, 0.72308516362307862, 0.72362078223068194, 0.72147830780026867, 0.71344402864631251, 0.71558650303681903, 0.70808784247051282, 0.72013926128126049, 0.72201392640787199, 0.71960364263375043, 0.72121049849646701, 0.72201392636796535, 0.72254954497556856, 0.71933583330999551, 0.72174611704421032, 0.72335297286702016, 0.71880021466248545, 0.72013926126130712, 0.71826459609478888, 0.71531869373301737, 0.71397964725391583, 0.71960364263375043, 0.72067487984895706, 0.72121049845656038, 0.71799678679098722, 0.71880021472234557, 0.71156936338002752, 0.71692554953587395, 0.71505088446912246, 0.71933583336985552, 0.72147830780026867, 0.72308516362307862, 0.71853240535868379, 0.72281735427937022, 0.72415640083828514, 0.71987145191759871, 0.72201392634801198, 0.72308516362307862, 0.7225495450154753, 0.72308516362307862, 0.71906802406605386, 0.72201392638791861, 0.72308516362307862, 0.72281735429932359, 0.72121049849646701, 0.721210498376747, 0.71237279129143249, 0.71826459615464888, 0.7188002147622522, 0.72362078223068194, 0.72281735429932359, 0.72308516362307862, 0.71880021468243882, 0.72415640083828514, 0.72040707058506215, 0.72174611706416369, 0.72281735431927696, 0.72121049845656038, 0.72335297290692691, 0.72094268915275872, 0.72228173565181364, 0.72201392640787199, 0.71799678679098722, 0.72040707058506215, 0.71585431238052744, 0.71826459615464888, 0.72013926126130712, 0.72121049849646701, 0.72335297290692691, 0.71826459613469562, 0.70728441445934109, 0.72201392638791861, 0.72147830778031541, 0.72201392638791861, 0.72067487986891043, 0.71906802404610048, 0.71987145195750546, 0.71317621930260422, 0.71692554955582732, 0.71451526580165914, 0.71585431228076069, 0.71880021470239219, 0.72067487976914368, 0.72067487980905032, 0.72121049843660701, 0.72228173565181364, 0.72174611708411696, 0.72254954499552193, 0.72067487986891043, 0.72040707056510878, 0.72013926126130712, 0.72040707056510878, 0.71746116822329065, 0.7062131772840412, 0.71237279139119924, 0.71906802404610048, 0.71451526580165914, 0.71906802400619385, 0.72201392634801198, 0.72308516360312525, 0.72147830778031541, 0.72335297290692691, 0.72308516360312525, 0.72040707056510878, 0.72147830780026867, 0.72013926128126049, 0.72121049845656038, 0.71880021474229883, 0.71799678679098722, 0.72254954497556856, 0.72281735425941696, 0.71826459613469562, 0.72147830778031541, 0.72121049841665363, 0.72254954499552193, 0.72013926122140037, 0.72228173569172027, 0.72362078221072856, 0.72388859151453022, 0.72442421012213354, 0.72308516360312525, 0.72362078221072856, 0.72201392634801198, 0.72201392638791861, 0.72040707052520203, 0.72201392632805861, 0.72228173563186027, 0.71076593556838941, 0.72013926126130712, 0.72121049843660701, 0.72201392640787199, 0.72013926126130712, 0.71799678683089396, 0.71719335887958224, 0.71960364261379717, 0.71156936336007426, 0.71558650301686566, 0.71210498206744421, 0.71344402866626588, 0.71772897748718556, 0.71183717276364267, 0.71799678683089396, 0.72174611708411696, 0.72147830778031541, 0.72281735429932359, 0.71719335887958224, 0.72254954499552193, 0.72281735429932359, 0.72201392638791861, 0.72013926126130712, 0.72415640081833188, 0.71880021474229883, 0.72335297290692691, 0.72362078221072856, 0.72281735429932359, 0.72495982872973674, 0.72281735429932359, 0.72495982872973674, 0.72415640081833188, 0.72549544733734006, 0.72522763805349177, 0.72469201942593509, 0.7230851635632185, 0.72121049835679363, 0.72174611704421032, 0.72174611704421032, 0.72228173569172027, 0.71156936339998089, 0.72201392638791861, 0.72254954499552193, 0.72094268917271209, 0.70889127040187117, 0.71880021474229883, 0.71451526568193902, 0.71799678677103385, 0.72335297290692691, 0.71906802404610048, 0.71826459609478888, 0.72094268913280535, 0.72067487986891043, 0.7155865030567724, 0.71317621928265085, 0.71585431236057406, 0.72094268917271209, 0.72362078221072856, 0.72174611708411696, 0.72308516362307862, 0.72174611708411696, 0.72201392638791861, 0.72362078221072856, 0.72335297290692691, 0.72228173563186027, 0.72121049839670026, 0.72147830770050192, 0.72469201942593509, 0.72147830778031541, 0.72094268917271209, 0.72147830778031541, 0.72228173569172027, 0.72362078221072856, 0.7126406006351409, 0.72228173569172027, 0.72040707046534203, 0.72147830778031541, 0.71612212166437572, 0.71692554957578059, 0.7196036426537038, 0.71638993096817738, 0.72308516362307862, 0.72335297290692691, 0.72201392638791861, 0.72201392638791861, 0.72228173569172027, 0.72415640081833188, 0.72442421012213354, 0.72228173565181364, 0.72254954499552193, 0.72254954499552193, 0.72388859151453022, 0.72415640081833188, 0.72067487986891043, 0.71371183793016091, 0.72308516360312525, 0.72281735423946358, 0.72308516362307862, 0.72415640081833188, 0.72415640083828514, 0.72415640079837851, 0.72335297288697353, 0.72388859149457685, 0.72362078223068194, 0.72201392634801198, 0.72362078215086845, 0.72254954493566192, 0.72174611708411696, 0.71585431232066732, 0.71960364261379717, 0.72121049847651375, 0.72201392632805861, 0.72013926122140037, 0.72254954497556856, 0.71987145191759871, 0.72067487982900369, 0.71906802396628711, 0.7174611681833839, 0.72308516360312525, 0.7230851635632185, 0.72228173569172027, 0.72442421012213354, 0.72362078221072856, 0.72362078221072856, 0.72174611708411696, 0.72308516360312525, 0.72415640083828514, 0.72388859151453022, 0.71853240543849717, 0.72013926122140037, 0.71826459615464888, 0.72201392640787199, 0.72121049849646701, 0.72094268919266535, 0.72388859153448359, 0.72388859153448359, 0.72415640081833188, 0.72281735423946358, 0.71558650297695903, 0.72228173563186027, 0.72147830770050192, 0.72174611700430358, 0.7225495449556153, 0.72415640081833188, 0.72442421012213354, 0.72362078221072856, 0.72201392638791861, 0.71933583334990214, 0.71638993090831726, 0.72281735421951021, 0.72308516360312525, 0.72362078221072856, 0.72388859151453022, 0.72201392638791861, 0.71960364261379717, 0.72201392638791861, 0.72362078221072856, 0.72254954499552193, 0.7225495449556153, 0.71933583330999551, 0.72201392638791861, 0.72147830778031541, 0.71960364267365717, 0.7225495450154753, 0.72335297292688028, 0.72094268919266535, 0.72469201944588846, 0.72362078223068194, 0.72469201944588846, 0.72388859153448359, 0.7225495450154753, 0.7244242101420868, 0.71987145197745883, 0.72228173571167364, 0.72442421010218017, 0.72094268919266535, 0.72308516362307862, 0.72388859153448359, 0.72174611710407033, 0.72335297292688028, 0.72603106596489675, 0.72629887526869841, 0.72495982874969012, 0.72415640083828514, 0.72415640083828514, 0.72388859153448359, 0.72469201944588846, 0.72067487988886381, 0.70835565177431448, 0.72121049845656038, 0.72174611708411696, 0.72040707058506215, 0.7225495450154753, 0.71960364267365717, 0.71772897754704568, 0.7204070705451554, 0.71960364267365717, 0.7225495450154753, 0.71906802406605386, 0.72335297292688028, 0.72388859149457685, 0.71076593550852929, 0.71880021468243882, 0.71906802402614722, 0.72201392640787199, 0.72121049845656038, 0.72040707050524877, 0.7204070705451554, 0.72281735431927696, 0.72147830776036204, 0.72174611710407033, 0.72094268909289871, 0.72094268913280535, 0.72281735427937022, 0.72174611710407033, 0.72201392640787199, 0.72174611706416369, 0.70755222384295624, 0.71585431238052744, 0.72174611710407033, 0.72201392640787199, 0.72013926124135375, 0.72067487984895706, 0.71558650301686566, 0.71880021472234557, 0.72228173571167364, 0.72147830774040866, 0.72228173569172027, 0.71612212170428236, 0.7196036425938438, 0.715318693713064, 0.72174611706416369, 0.72388859151453022, 0.71880021470239219, 0.72094268917271209, 0.72174611708411696, 0.72415640081833188, 0.72469201938602845, 0.72281735429932359, 0.72415640081833188, 0.72495982872973674, 0.72335297286702016, 0.72415640083828514, 0.72308516360312525, 0.72362078221072856]
print(max(Acc))
# # print(max(max(Acc)))
#

Acc = [[0.019607843137254902, 0.019607843137254902, 0.019607843137254902, 0.019607843137254902, 0.019607843137254902, 0.019607843137254902, 0.019607843137254902, 0.018300653721382416, 0.019607843137254902, 0.019607843137254902, 0.022875817334340288, 0.016993464354206535, 0.029411765144151801, 0.044444445301504695, 0.060784314972123291, 0.079738563766666493, 0.098692812609906297, 0.13006536229178797, 0.088888890651705993, 0.084313727038748121, 0.084967321819729269, 0.088888890603009391, 0.10784313905667635, 0.1143790871586675, 0.12418300911686779, 0.10588235520069895, 0.12614379341111465, 0.1156862767693264, 0.11437908701257768, 0.094117648996948411, 0.10065359685545654, 0.11503268164746902, 0.13202614663473142, 0.12222222457913791, 0.12222222457913791, 0.13921568903073767, 0.12875817258373584, 0.10392157061427247, 0.13790849927398893, 0.16470588568378897, 0.11764706082009023, 0.13006536199960833, 0.14248366259476719, 0.14183006800857245, 0.15686274826331856, 0.12026144047967749, 0.11764706116096646, 0.15359477377405353, 0.14901961113502776, 0.14052287873878977, 0.15816993772788765, 0.14183006815466226, 0.16470588548900256, 0.17908497067058787, 0.17908497086537431, 0.14705882654860128, 0.15163399006416595, 0.15620915328755097, 0.17581699696046854, 0.15032680045350705, 0.17124183334751067, 0.17908497062189127, 0.14771242132958243, 0.14575163703533559, 0.16993464388294158, 0.17516340178991455, 0.16274510119475571, 0.16470588548900256, 0.1424836628382502, 0.15359477426101958, 0.16666667017282225, 0.17124183344490387, 0.16862745417488945, 0.15359477435841279, 0.16274510109736248, 0.16209150597550512, 0.1908496768256418, 0.16143791192497303, 0.16209150665725758, 0.16666667012412564, 0.1758169966682889, 0.16339869617052327, 0.15686274840940836, 0.14183006854423511, 0.17908497076798108, 0.16797385963739134, 0.16732026441814074, 0.15424836904200073, 0.16078431665702583, 0.12875817268112905, 0.15490196377428528, 0.15359477416362638, 0.17058823881001253, 0.15947712738724315, 0.17124183344490387, 0.15620915401800006, 0.18169935028147854, 0.16078431724138509, 0.16209150660856098, 0.15359477460189583, 0.1496732056725259, 0.16928104924805024, 0.1745098070089334, 0.15751634323908612, 0.16209150675465078, 0.16732026466162375, 0.1653594801725905, 0.18104575511092455, 0.16535948036737691, 0.16405229124368406, 0.16470588534291275, 0.15294117967482485, 0.18431372921061673, 0.17320261769045411, 0.14052287849530676, 0.16601307471008861, 0.16339869578095043, 0.15686274797113892, 0.15228758474775389, 0.15555555870135626, 0.19346405599826302, 0.15098039542927461, 0.19346405624174604, 0.19084967726391125, 0.17516340183861115, 0.16405229075671801, 0.16274510065909303, 0.16013072202213449, 0.12026143999271144, 0.13790849961486518, 0.16993464383424497, 0.17647059174144969, 0.14640523162153032, 0.16993464373685177, 0.18300653945386799, 0.1640522906106282, 0.18039216018385357, 0.18366013442963555, 0.15882353221668916, 0.16601307505096485, 0.16797385963739134, 0.16666666997803581, 0.19542483990293702, 0.18758170262855642, 0.17777778091383914, 0.17058823876131593, 0.18104575520831775, 0.16535948026998371, 0.17385621232534545, 0.15555555875005286, 0.16732026490510679, 0.16732026446683734, 0.16078431680311564, 0.1490196104532753, 0.16666666944237316, 0.1575163428982099, 0.16666667017282225, 0.14052287849530676, 0.14967320581861571, 0.16405229100020102, 0.19084967697173164, 0.1816993499892989, 0.16143791158409679, 0.14771242118349262, 0.14575163679185257, 0.16993464373685177, 0.16862745412619284, 0.17385621222795225, 0.16405229051323497, 0.15228758455296748, 0.16274510114605911, 0.16928104890717399, 0.17320261788524055, 0.14248366303303661, 0.16601307490487505, 0.15816993767919105, 0.18039216028124677, 0.18300653916168835, 0.17254902305556277, 0.16797385900433548, 0.16013072187604468, 0.16862745436967588, 0.16339869617052327, 0.18888889301836101, 0.16339869573225382, 0.17843137593830333, 0.16601307495357165, 0.17973856530547921, 0.16405229080541461, 0.17124183315272426, 0.16928104876108419, 0.1732026174469711, 0.18169934969711926, 0.1660130754405377, 0.17647059140057345, 0.17777778125471538], [0.18888889267748477, 0.17581699686307534, 0.17712418632764443, 0.17908497067058787, 0.15947712724115334, 0.17058823856652952, 0.16143791197366963, 0.18888889253139496, 0.17516340178991455, 0.18366013379657969, 0.18300653896690194, 0.17581699647350249, 0.16339869592704026, 0.16601307475878521, 0.17385621203316581, 0.16209150617029153, 0.17124183315272426, 0.15555555870135626, 0.1575163428495133, 0.17058823871261933, 0.17777778096253577, 0.16993464378554837, 0.14509804201087143, 0.16928104890717399, 0.17647059149796668, 0.15816993753310121, 0.17254902286077636, 0.16666667012412564, 0.15686274811722875, 0.17908497062189127, 0.18496732365072163, 0.1594771269976703, 0.1503268001126308, 0.15163398991807614, 0.16470588631684485, 0.16928104910196043, 0.17908497062189127, 0.16732026480771359, 0.16078431675441904, 0.1359477151258319, 0.15816993767919105, 0.17124183334751067, 0.16666666958846299, 0.17254902276338316, 0.18300653935647479, 0.14771242128088583, 0.16928104954022988, 0.17712418642503763, 0.17450980744720285, 0.18758170316421907, 0.16274510143823873, 0.17320261808002696, 0.16928104866369098, 0.20326797776167688, 0.18954248740976931, 0.17712418627894783, 0.18627451355356017, 0.16862745398010304, 0.1562091533849442, 0.17908497067058787, 0.17777778120601878, 0.18300653921038496, 0.17189542817718842, 0.17189542807979521, 0.17189542851806466, 0.1594771268515805, 0.16862745398010304, 0.16274510085387947, 0.14444444703510384, 0.17320261783654395, 0.1732026174469711, 0.18169935013538871, 0.17124183349360048, 0.17908497067058787, 0.17973856545156902, 0.16405229100020102, 0.18300653989213744, 0.17908497115755392, 0.18300653984344084, 0.16601307500226825, 0.1666666697832494, 0.17516340169252134, 0.15228758435818104, 0.17712418647373424, 0.1575163429469065, 0.17450980749589945, 0.17843137588960672, 0.16666666949106976, 0.17189542812849182, 0.14248366298434001, 0.16405229114629086, 0.16928104895587062, 0.16928104895587062, 0.17450980744720285, 0.16601307500226825, 0.18104575491613811, 0.18235294452679704, 0.17124183320142086, 0.18039216028124677, 0.17385621227664885, 0.1666666698806426, 0.17058823871261933, 0.17777778101123237, 0.17385621227664885, 0.16993464368815517, 0.16666666992933921, 0.17581699691177194, 0.18758170282334283, 0.16013072177865148, 0.18758170287203946, 0.17450980759329265, 0.1816993499406023, 0.17908497081667768, 0.18300653930777819, 0.16666666992933921, 0.16339869558616402, 0.16274510104866588, 0.14640523142674389, 0.14444444703510384, 0.14836601567229415, 0.17058823856652952, 0.16862745436967588, 0.17647059169275309, 0.16928104880978079, 0.15359477430971619, 0.15620915328755097, 0.17058823851783292, 0.16601307519705466, 0.14705882630511827, 0.14183006791117925, 0.15686274806853212, 0.16339869597573686, 0.16078431660832923, 0.16470588534291275, 0.15555555840917662, 0.16143791187627643, 0.16209150631638133, 0.15816993792267406, 0.17058823812826007, 0.15490196362819547, 0.16732026451553395, 0.15947712728984995, 0.16209150631638133, 0.16143791177888323, 0.1732026173982745, 0.17843137598699993, 0.19869281439220204, 0.18627451350486357, 0.19411765053576113, 0.16862745432097928, 0.16601307490487505, 0.15620915309276456, 0.17058823866392273, 0.16928104905326383, 0.1575163429469065, 0.16928104915065703, 0.16928104905326383, 0.16732026451553395, 0.16209150646247117, 0.18235294481897665, 0.17908497081667768, 0.17254902281207976, 0.1830065395512612, 0.18039216047603321, 0.19019608199596405, 0.16928104924805024, 0.16209150631638133, 0.17581699696046854, 0.15620915333624757, 0.1666666697832494, 0.15294117899307239, 0.16732026441814074, 0.14117647308150147, 0.16797385953999813, 0.16666666997803581, 0.15359477411492978, 0.17124183339620727, 0.17777778115732218, 0.18104575486744151, 0.18366013433224235, 0.18431372862625744, 0.18300653945386799, 0.15947712743593975, 0.17843137623048297, 0.16666667007542904, 0.17450980715502321, 0.18366013404006273, 0.17058823876131593, 0.18431372921061673, 0.16993464398033478, 0.16928104915065703, 0.18366013467311859, 0.1921568663876041, 0.16601307519705466, 0.19869281453829185, 0.18758170321291567]]
print(max(max(Acc))) #0.203267977762